<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="style.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <title>WRI Map</title>
  </head>
  <body>
    <div id="full-container">
      <div id="main-container"><!-- Start Main Container -->
        <div id="menu-open-overlay"></div>

        <div id="ribbon"><!-- Ribbon -->
          A project convened by <a href="#partner" target="_blank">World Resources Institute</a>
        </div><!-- End Ribbon -->

        <div id="header-container">
          <div id="header"><!-- Header -->
            <div id="map-title">
              <h1>Indonesia Fires and Concessions</h1>
            </div>
            <div id="header-right">
              <div id="menu-open-button">
                <div class="border"></div>
                <div class="button">
                  <span class="bar"></span>
                  <span class="bar"></span>
                  <span class="bar"></span>
                  <p>Menu</p>
                </div>
              </div>
              <a href="#partner" target="_blank"><img id="partner-logo" src="images/wri_logo.png" title="World Resources Institute"></a>
              <div class="clearfix"></div>
            </div>
          </div><!-- End Header -->
        </div>

        <div id="body-container">
          <div id="map-container"><!-- Map Container -->

            <!-- Sample Map, remove before use -->
            <div id="map"><div style="width:100%;height:100%;background-image:url('images/sample_map.png');background-size:cover;"></div></div>

            <div id="right-controls">
              <div class="button" id="search-expandable"><i class="fa fa-search" id="search-button"></i>
                <div id="search-elements">
                  <form>
                    <input type="text" id="search-input" placeholder="Search">
                  </form>
                  <i class="fa fa-times" id="search-collapse-button"></i>
                </div>
              </div>
              <div class="button"><i class="fa fa-home" id="home-button"></i></div>
              <div class="button">
                <i class="fa fa-plus" id="zoom-in-button"></i>
                <i class="fa fa-minus" id="zoom-out-button"></i><!-- Add the "disabled" class to indicate no further zooming is possible -->
              </div>
            </div>
          </div><!-- End Map Container -->
        </div>

      </div><!-- End Main Container -->
      <div id="main-menu">
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="js/wri-map.js"></script>
    <script src="js/ramjet.min.js"></script>
    <script type="text/javascript">
      var zoomLevel = 1;
      var checkZoomButtonsEnabled = function(){
        if (zoomLevel > 2) $("#zoom-in-button").addClass('disabled'); else $("#zoom-in-button").removeClass('disabled');
        if (zoomLevel < 1) $("#zoom-out-button").addClass('disabled'); else $("#zoom-out-button").removeClass('disabled');
      };
      jQuery(function($){
        $("body").wriMap({
          onZoomHome: function(){ zoomLevel = 1; checkZoomButtonsEnabled(); console.log("Zooming to home (1)"); },
          onZoomIn:   function(){ if ($(this).hasClass('disabled')) return; zoomLevel++; checkZoomButtonsEnabled(); console.log("Zoomed in to " + zoomLevel); },
          onZoomOut:  function(){ if ($(this).hasClass('disabled')) return; zoomLevel--; checkZoomButtonsEnabled(); console.log("Zoomed out to " + zoomLevel); },
          onSearch:   function(data){ console.log("User searched for: ", data); }
        });
      });
    </script>
  </body>
</html>
